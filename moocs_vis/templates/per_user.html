{% extends "base.html" %}

{% block title %}Visualization per lecture video{% endblock %}

{% block content %}
<div class="page-title">
	<h2>Visualization per lecture video by user</h2>
</div>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://d3js.org/d3.v3.js"></script>
<script src="http://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
<div class="dashboard-container">
	<form id='search_form' method='get'>
		<select id='lecture_q' name='lecture_q' class="form-control inline-select left">
			{% for l in lecture_list %}
				<option value="{{ l }}" {% if l == lecture_q %}selected{% endif %}>Lecture {{ l }}</option>
			{% endfor %}
		</select>
		<div class="left" style="margin-left:30px;">
			User:
			<input id='user_q' name='user_q' type='text' size="60" value="{{ user_q }}" style="height:34px;" />
		</div>
		<input name='seq_q' type='radio' value="slide_seq" style="margin-left:30px;" {% if seq_q == "slide_seq" %}checked{% endif %} /> By slide
		<input name='seq_q' type='radio' value="time_seq" {% if seq_q == "time_seq" or not seq_q %}checked{% endif %} /> By time sequence
		<input id='search' value='Search' type='submit' class="btn btn-primary" style="margin-left:30px;" />
		<div class="clear_both" style="margin-bottom:20px;"></div>
		<b>OR</b><br>
		<div class="left">
			Choose indicator:
			<select id='select_indicator' name='indicator_q' class="form-control inline-select">
			</select>
		</div>
		<div class="right">
			Choose playback rate:
			<div class="toggle-btn-grp joint-toggle" style="display:inline;">
				{% for a in rates %}
					<label onclick="" class="toggle-btn {% if a == playrate_q %}success{% endif %} achievement">
						<input type="radio" class="visuallyhidden" name="playrate_q" value="{{ a }}" {% if a == playrate_q %}checked{% endif %}>{{ a }}
					</label>
				{% endfor %}
			</div>
		</div>
		<div class="clear_both"></div>
	</form>
	<div class="left" style="position:relative;width:500px;">
		<button id="user_info_btn" class="btn btn-info" style="margin-top:40px;">User information</button>
		<div id="user_info" class="user_info">
			Country: <span id="user_country"></span><br>
			Userclass: <span id="user_class"></span><br>
			Grade: <span id="user_grade"></span><br>
			Achievement: <span id="user_achievement"></span>
		</div>
	</div>
	<div class="right">
		<button id="toggle_legend" class="btn btn-info" style="margin-top:40px;">Toggle legend</button>
		<img id="legend_img" src="{{ STATIC_URL }}img/explanation2.png" style="display:none;position:absolute;right:0;z-index:1;" width="500">
	</div>
	<div id='indicator_option' class='indicator_option invisible'></div>
</div>
<div class="clear_both"></div>
<div id="vis" style="position:relative;">Please choose options to display</div>
<script src="{{ STATIC_URL }}js/data_indicators.js"></script>
<script src="{{ STATIC_URL }}js/per_user.js"></script>
{% endblock %}
